<!doctype html>
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# shelbytv: http://ogp.me/ns/fb/shelbytv#" profile="http://www.w3.org/2005/10/profile">
  <meta charset="utf-8">

  <title>
    shelby.tv | a simple new way to enjoy video
  </title>
  <link href="../fonts/icon/style.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="../css/style.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="test.css" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="shelby shelby--landing">
  <div class="shelby__wrapper">
    <header class="shelby__header clearfix" role="banner">
      <a href="/" class="button_primer shelby-logo">
          <h1 class="shelby_logo">
            <span class="icon-mark"></span><span class="icon-type"></span><span class="ir">Shelby.tv</span>
          </h1>
      </a>
    </header>

    <form class="shelf shelf--init js-next" data-go_to="enter_name">
      <div class="shelf__lining">
        <h2 class="shelf__h1">
          Shelby is really smart TV
        </h2>

        <p class="shelf__block">
          Your personalized channel of video is waiting for you.
        </p>

        <button type="submit" class="button_primer button_green button_wide shelf__button--cta">
          Get Started
        </button>
      </div><!-- eo shelf__lining -->
    </form><!-- eo shelf -->

    <form class="shelf shelf--enter_name hidden js-next" data-go_to="awesome">
      <div class="shelf__lining">
        <h2 class="shelf__h1">
          Let's start tuning your personal channel
        </h2>

        <form class="js-capture-name">
          <p class="form_module shelf__form">
            <label for="user-name" class="form_label">
              What's your name?
            </label>

            <input type="text" id="user-name" name="user-name" class="form_input" value="" placeholder="First and Last Name" />
          </p>

          <button type="submit" class="button_primer button_green button_wide shelf__button--cta">
            Next
          </button>
        </form>
      </div><!-- eo shelf__lining -->
    </form><!-- eo shelf -->

    <form class="shelf shelf--awesome hidden js-next" data-go_to="">
      <div class="shelf__lining">
        Awesome
      </div><!-- eo shelf__lining -->
    </form><!-- eo shelf -->


  </div><!-- /shelby-wrapper -->

  <script src="../js/jquery-2.0.0.min.js" type="text/javascript"></script>
  <script src="../js/jquery-parseparams.js" type="text/javascript"></script>
  <script src="../js/jquery-hashchange.js" type="text/javascript"></script>
  <script>
  $(document).ready(function(){
    User = {
      fullname : '',
      username: '',
      password: '',
      email: ''
    }

    State = {
      //cache shelves
      $documentShelves : $('.shelf'),

      getParams : function() {
        return window.location.hash.split('#')[1];
      },

      DocumentState : function(index) {
        console.log('documentstate',index);
        index = index || this.getParams() || 'init';
        console.log('documentstate param',index);


        this.$documentShelves.toggleClass('hidden', true);

        $('.shelf--'+index).toggleClass('hidden',false);
        this.updateState(index);
      },

      updateState : function(state){
        history.pushState(null,null,'#'+state);
      }
    }

    State.DocumentState();

    $('.js-next').on('submit',function(e){
      e.preventDefault();

      var nextSlide = $(this).data('go_to');

      console.log(e.type,'before',User);
      User.fullname = $(this).find('#user-name').val();
      console.log('after',User);

      State.DocumentState(nextSlide);
    });


    //handle for backbutton
    $(window).hashchange(function(){
      State.DocumentState();
    });
  });
</script>



</body>
</html>
